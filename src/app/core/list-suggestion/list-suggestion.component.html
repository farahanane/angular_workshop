<div class="container my-4">

  <!-- Title -->
  <h2 class="text-center fw-bold mb-4">
    Liste des suggestions
  </h2>

  <!-- Search bar -->
  <input
    type="text"
    class="form-control mb-4"
    placeholder="Rechercher une suggestion"
    [(ngModel)]="searchText"
  />

  <!-- Suggestions list -->
  <ng-container *ngFor="let s of suggestions">

    <div
      class="card shadow-sm mb-4"
      *ngIf="
        s.title.toLowerCase().includes(searchText.toLowerCase()) ||
        s.category.toLowerCase().includes(searchText.toLowerCase())
      "
    >
      <div class="card-body">

        <!-- Title -->
        <h5 class="card-title fw-bold">
          {{ s.title }}
        </h5>

        <!-- Category + Date -->
        <small class="text-primary fw-semibold">
          {{ s.category }}
        </small>
        <small class="text-muted ms-2">
          {{ s.date | date:'dd MMM yyyy' }}
        </small>

        <!-- Description -->
        <p class="mt-3">
          {{ s.description }}
        </p>

        <!-- Status badge -->
        <span
          class="badge"
          [ngClass]="{
            'bg-success': s.status === 'acceptee',
            'bg-danger': s.status === 'refusee',
            'bg-warning text-dark': s.status === 'en_attente'
          }"
        >
          {{ s.status | uppercase }}
        </span>

        <!-- Action buttons -->
        <div class="mt-3" *ngIf="s.status !== 'refusee'">
          <button
            class="btn btn-primary me-2"
            (click)="likeSuggestion(s)"
          >
            ğŸ‘ Like {{ s.nbLikes }}
          </button>

          <button
            class="btn btn-outline-secondary"
            (click)="addToFavorites(s)"
          >
            â™¡ Ajouter aux favoris
          </button>
        </div>

      </div>
    </div>

  </ng-container>

</div>